# 🚀 ReNameTool-ForMac - 一款简洁高效的批量重命名工具(2.0)

一款使用 Tauri 构建的现代化、轻量级的 macOS 桌面应用，旨在提供一个直观、安全、高效的批量文件重命名体验。

## ✨ 核心理念

从“分离式页面”转向“**一体化单屏工作台**”。

当前设计的核心瓶颈在于布局割裂导致的垂直空间浪费与操作流程不畅。所有优化的基石，是将文件选择、规则设定、实时预览、执行操作这四大核心功能整合到一个无需滚动的单一视图中，为用户提供一个高效、直观、响应迅速的工作环境。

### 概念设计方案 (Conceptual Redesign)

以下是整合了所有核心建议后，理想界面的结构草图：

+----------------------------------------------------+-------------------------------------------+
| [文件批量重命名] (作为应用窗口标题或左上角Logo)                                                  |
+----------------------------------------------------+-------------------------------------------+
|                                                    |                                           |
|  [文件列表区]                                      |   [重命名规则]                            |
|  (空状态时显示引导文案：将文件拖拽至此，或点击...)     |   (副标题: 一次只能选择并执行一种规则)         |
|                                                    |                                           |
|   + 操作栏: [选择文件] [清空列表] [已加载: X 个文件]  |   [查找替换] [添加序列] [大小写] (高亮Tab样式) |
|   -----------------------------------------------  |                                           |
|   | # |  原文件名      |  新文件名(预览)     |     |   ----------------------------------------- |
|   | 1 | IMG_001.jpg   | 旅行照片-001.jpg    |     |   [当前规则对应的输入框区域]                  |
|   | 2 | IMG_002.jpg   | <冲突!>          |     |   (例如“查找替换”的输入框)                   |
|   |...| ...           | ...               |     |                                           |
|                                                    |   ----------------------------------------- |
|                                                    |   [预设] [加载预设▼] [另存为预设...]         |
|                                                    |                                           |
|                                                    |   +---------------------------------------+ |
|                                                    |   | [ 执行重命名 ] (若有冲突则禁用)         | |
|                                                    |   +---------------------------------------+ |
+----------------------------------------------------+-------------------------------------------+
| [状态栏/页脚] 最后操作: 成功重命名 X 个文件。 [撤销]                                             |
+----------------------------------------------------+-------------------------------------------+


## 🛠️ 推荐的 IDE 设置

- [VS Code](https://code.visualstudio.com/)
- [Tauri 插件](https://marketplace.visualstudio.com/items?itemName=tauri-apps.tauri-vscode)
- [rust-analyzer 插件](https://marketplace.visualstudio.com/items?itemName=rust-lang.rust-analyzer)

## 🚀 快速开始 (Getting Started)

1.  **安装依赖**:
    ```bash
    npm install
    ```

2.  **启动开发环境**:
    ```bash
    npm run tauri dev
    ```

---

## 🔬 详细优化项分解 (Actionable Items)

这是一个分阶段的迭代计划，您可以根据资源和排期进行实施。

### **阶段一：核心布局与交互重构 (高优先级)**

此阶段的目标是解决最关键的可用性问题，搭建新版界面的骨架。

- **【重构为左右布局】**:
  - **描述**: 彻底抛弃当前的上下结构。界面主体分为左右两栏：左侧为文件列表和预览区，右侧为重命名规则控制区。
  - **理由**: 从根本上解决页面需要滚动的问题，让所有核心功能一目了然。

- **【整合文件上传功能】**:
  - **描述**: 取消顶部的独立拖拽区域。将整个左侧“文件列表区”变为可接收文件拖拽的目标区域。同时保留一个 `[选择文件]` 按钮作为备用上传方式。
  - **理由**: 极大化利用屏幕空间，简化初始操作步骤。

- **【实现实时预览】**:
  - **描述**: 用户在右侧面板的任何输入或选项更改，都应**立即 (onkeyup/onchange)** 在左侧“新文件名(预览)”列中反映出结果。
  - **理由**: 这是工具的核心价值。直观的即时反馈能让用户自信地进行配置，避免反复试错。

- **【明确激活的规则状态】**:
  - **描述**: 右侧的规则选择（查找替换、添加序列等）应使用高亮背景的选项卡 (Tabs) 或按钮组 (Button Group) 样式，清晰地标示出当前正在编辑的规则是哪一个。
  - **理由**: 遵循“系统状态可见性”原则，避免用户混淆。

### **阶段二：健壮性与体验优化 (中优先级)**

此阶段专注于提升工具的可靠性和细节体验，帮助用户规避风险。

- **【冲突与错误预警】**:
  - **描述**: 在预览阶段实时检测“命名冲突”（多个文件重命名后同名）和“非法字符”。在预览列中用醒目的颜色和图标标记出有问题的行，并提供悬浮提示（Tooltip）解释原因。当存在任何冲突时，禁用 `[执行重命名]` 按钮。
  - **理由**: 变被动出错为主动预防，是工具专业性的体现，能有效防止文件被覆盖或操作失败。

- **【优化空状态引导 (Empty State)】**:
  - **描述**: 当左侧文件列表为空时，显示引导性的图文，如一个大图标配上文字：“将文件拖拽到这里，或点击‘选择文件’按钮开始”。
  - **理由**: 提升新用户的上手效率，让界面更友好。

- **【清晰的操作反馈】**:
  - **描述**: 在点击执行按钮后，无论成功或失败，都应给出明确的反馈。建议使用屏幕角落的轻量级提示（Toast），如：“成功重命名 25 个文件”或“操作失败，请检查冲突项”。
  - **理由**: 为用户的操作提供闭环，消除不确定性。

### **阶段三：进阶功能与效率提升 (长期价值)**

此阶段旨在为深度用户和重复性任务提供强大支持，构建产品护城河。

- **【增加“撤销操作”功能】**:
  - **描述**: 在成功执行一次重命名后，提供一个全局的“撤销上一次重命名”的按钮或链接。
  - **理由**: 这是批量操作工具的“定心丸”，极大地提升了用户的安全感，鼓励用户大胆使用。

- **【引入“预设 (Presets)”系统】**:
  - **描述**: 允许用户将当前的一套重命名规则保存为命名预设，方便未来一键加载和复用。
  - **理由**: 将工具从一次性使用提升为可定制的工作流利器，对有重复性需求的用户价值巨大。